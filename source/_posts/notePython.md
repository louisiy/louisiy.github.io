---
title: Notes for SummerSchool Python
date: 2023-08-13 22:25:57
tags: python
---

## 环境前提

Anaconda是一个用于科学计算的Python发行版，支持Linux，Mac，Windows系统，提供了包管理与环境管理的功能，可以很方便地解决多版本python并存，切换以及各种第三方包安装问题

anaconda利用工具/命令`conda`来进行package和environment的管理，并且已经包含了Python和相关的配套工具

### 概念

Anaconda是一个打包的集合，预装了conda，某个版本的python，很多package，科学计算工具等，称为一个发行版

conda是一个工具，也是一个可执行命令，核心功能是包管理和环境管理。包管理与pip的使用类似，环境管理则允许用户方便地安装不同版本的python并可以快速切换

Miniconda是一个简单包，只包含最基本的内容，python和conda，以及相关的必须依赖项

## 基础语法

- 交互式编程
  - 交互式编程不需要创建脚本文件，是通过Python解释器的交互模式来编写代码
- 脚本式编程
  - 通过脚本参数调用解释器开始执行脚本，知道脚本执行完毕。当脚本执行完成后，解释器不再有效

### 标识符

英文字母、数字、下划线组成，不能以数字开头

区分大小写

以下划线开头的标识符是有特殊意义的

Python可以同一行显示多条语句，方法是用分号；分开，如

```python
>>> print("hello");print("Tsinghua");
hello
Tsinghua
```

保留字

```python
import keyword
keyword.kwlist
```

查看当前系统的关键字

| and      | exec    | not    |
| -------- | ------- | ------ |
| assert   | finally | or     |
| break    | for     | pass   |
| class    | from    | print  |
| continue | global  | raise  |
| def      | if      | return |
| del      | import  | try    |
| elif     | in      | while  |
| else     | is      | with   |
| except   | lambda  | yield  |

### 行和缩进

用缩进来写模块

缩进的空白数量是可变的，但是所有代码快语句必须包含相同的缩进空白数量

Indentation Error: unindent does not match any outer indentation level

### 引号和注释

可以用引号（'）、双引号( " )、三引号( ''' 或 """ ) 来表示字符串，引号的开始与结束须是相同类型

单行注释采用 # 开头。多行注释使用三个单引号 ''' 或三个双引号 """

函数之间或类的方法之间用空行分隔，表示一段新的代码的开始。类和函数入口之间也用一行空行分隔，以突出函数入口的开始。空行与代码缩进不同，空行并不是Python语法的一部分

### print输出

print默认输出是换行的

可以在 print() 函数中添加 end="" 参数，这样就可以实现不换行效果

参数 end 默认值为 "\n"，即end="\n"，表示换行，给 end 赋值为空, 即end=""，就不会换行了

### 变量类型

变量赋值不需要类型声明。
每个变量在内存中创建，都包括变量的标识，名称和数据这些信息
每个变量在使用前都必须赋值，变量赋值以后该变量才会被创建
等号 = 用来给变量赋值
等号 = 运算符左边是一个变量名，等号 = 运算符右边是存储在变量中的值

```python
a=b=c=1
a,b,c=1,2,"john"
```

五个标准数据类型

- Numbers（数字）
- String（字符串）
- List（列表）
- Tuple（元组）
- Dictionary（字典）

#### 数字

数字数据类型用于存储数值

他们是不可改变的数据类型，这意味着改变数字数据类型会分配一个新的对象。

当你指定一个值时，Number 对象就会被创建

```python
var1 = 1
```

可以使用del语句删除一些对象的引用

```python
del var
```

Python支持四种不同的数字类型：

- int（有符号整型）
- long（长整型， Python3.X 版本中 long 类型被移除，使用 int 替代）
- float（浮点型）
- complex（复数）
  - 复数由实数部分和虚数部分构成，可以用 a+bj，或者 complex(a,b) 表示， 复数的实部 a 和虚部 b 都是浮点型

#### 字符串

字符串或串(String)是由数字、字母、下划线组成的一串字符，它是编程语言中表示文本的数据类型

Python的字串列表有2种取值顺序:

- 从左到右索引默认0开始的，最大范围是字符串长度少1
- 从右到左索引默认-1开始的，最大范围是字符串开头

![](https://cdn.jsdelivr.net/gh/louisiy/ImageStorage/img/1.png)

实现从字符串中获取一段子字符串的话，可以使用 [头下标:尾下标] 来截取相应的字符串，其中下标是从 0 开始算起，可以是正数或负数，下标可以为空表示取到头或尾。[头下标:尾下标] 获取的子字符串包含头下标的字符，但不包含尾下标的字符

```python
>>> s = 'abcdef' 
>>> s[1:5] 
'bcde'

str = 'Hello World!’
print(str) # 输出完整字符串
print(str[0]) # 输出字符串中的第一个字符
print(str[2:5]) # 输出字符串中第三个至第六个之间的字符串
print(str[2:]) # 输出从第三个字符开始的字符串
print(str * 2) # 输出字符串两次
print(str + "TEST") # 输出连接的字符串
```

#### 列表

List（列表） 是 Python 中使用最高频的数据类型

列表可以完成大多数集合类的数据结构实现。它支持字符，数字，字符串甚至可以包含列表（即嵌套）
列表用 `[]` 标识，是 Python 最通用的复合数据类型

列表中值的切割也可以用到变量 [头下标:尾下标] ，就可以截取相应的列表，从左到右索引默认 0 开始，从右到左索引默认 -1 开始，下标可以为空表示取到头或尾

列表截取可以接收第三个参数，参数作用是截取的步长，以下实例在索引 1 到索引 4 的位置并设置
步长为 2（间隔一个位置）来截取字符串

```python
>>> letters = ['c','h','e','c','k','i','o']
>>> letters[1:4:2]
['h','c']
```

#### 元组

元组是另一个数据类型，类似于 List（列表）

元组用 () 标识。内部元素用逗号隔开。但是元组不能二次赋值，相当于只读列表

```python
tuple = ('tsinghua', 786, 2.23, 'john', 70.2)
tinytuple = (123, 'john')

tuple = ( 'tsinghua', 786 , 2.23, 'john', 70.2 )
list = [ 'tsinghua', 786 , 2.23, 'john', 70.2 ]
tuple[2] = 1000 # 元组中是非法应用
list[2] = 1000 # 列表中是合法应用
```

#### 字典

字典(dictionary)是除列表以外python之中最灵活的内置数据结构类型。列表是有序的对象集合，
字典是无序的对象集合

两者之间的区别在于：字典当中的元素是通过键来存取的，而不是通过偏移存取

字典用"{ }"标识。字典由索引(key)和它对应的值value组成

```python
dict = {}
dict['one'] = "This is one"
dict[2] = "This is two"
tinydict = {'name': 'Tsinghua', 'code': 6734, 'dept': 'sales'}
dict['one’] # 输出键为'one' 的值
     
dict[2] # 输出键为 2 的值
tinydict # 输出完整的字典
tinydict.keys() # 输出所有键
tinydict.values() # 输出所有值
```

### 数据类型转换

| 函数                  | 描述                                                |
| --------------------- | --------------------------------------------------- |
| int(x [,base])        | 将x转换为一个整数                                   |
| long(x [,base] )      | 将x转换为一个长整数                                 |
| float(x)              | 将x转换到一个浮点数                                 |
| complex(real [,imag]) | 创建一个复数                                        |
| str(x)                | 将对象 x 转换为字符串                               |
| >repr(x)              | 将对象 x 转换为表达式字符串                         |
| eval(str)             | 用来计算在字符串中的有效Python表达式,并返回一个对象 |
| tuple(s)              | 将序列 s 转换为一个元组                             |
| list(s)               | 将序列 s 转换为一个列表                             |
| set(s)                | 转换为可变集合                                      |
| dict(d)               | 创建一个字典。d 必须是一个序列 (key,value)元组。    |
| frozenset(s)          | 转换为不可变集合                                    |
| chr(x)                | 将一个整数转换为一个字符                            |
| unichr(x)             | 将一个整数转换为Unicode字符                         |
| ord(x)                | 将一个字符转换为它的整数值                          |
| hex(x)                | 将一个整数转换为一个十六进制字符串                  |
| oct(x)                | 将一个整数转换为一个八进制字符串                    |

## 运算符

### 赋值、比较、赋值运算符

a = 10, b = 20

| 运算符 | 描述                                                | 实例                                              |
| ------ | --------------------------------------------------- | ------------------------------------------------- |
| +      | 加 - 两个对象相加                                   | a + b 输出结果 30                                 |
| -      | 减 - 得到负数或是一个数减去另一个数                 | a - b 输出结果 -10                                |
| *      | 乘 - 两个数相乘或是返回一个被重复若干次的字符串     | a * b 输出结果 200                                |
| /      | 除 - x除以y                                         | b / a 输出结果 2                                  |
| %      | 取模 - 返回除法的余数                               | b % a 输出结果 0                                  |
| **     | 幂 - 返回x的y次幂                                   | a**b 为10的20次方， 输出结果100000000000000000000 |
| //     | 取整除 - 返回商的整数部分（向下取整）               | >>> 9//2 4 >>> -9//2 -5                           |
| ==     | 等于 - 比较对象是否相等                             | (a == b) 返回 False                               |
| !=     | 不等于 - 比较两个对象是否不相等                     | (a != b) 返回 True                                |
| <>     | 不等于 - 比较两个对象是否不相等。**python3 已废弃** | (a <> b) 返回 True。这个运算符类似 !=             |
| >      | 大于 - 返回x是否大于y                               | (a > b) 返回 False                                |
| <      | 小于 - 返回x是否小于y                               | (a < b) 返回 True                                 |
| >=     | 大于等于 - 返回x是否大于等于y                       | (a >= b) 返回 False                               |
| <=     | 小于等于 - 返回x是否小于等于y                       | (a <= b) 返回 True                                |
| =      | 简单的赋值运算符                                    | c = a + b 将 a + b 的运算结果赋值为 c             |
| +=     | 加法赋值运算符                                      | c += a 等效于 c = c + a                           |
| -=     | 减法赋值运算符                                      | c -= a 等效于 c = c - a                           |
| *=     | 乘法赋值运算符                                      | c *= a 等效于 c = c * a                           |
| /=     | 除法赋值运算符                                      | c /= a 等效于 c = c / a                           |
| %=     | 取模赋值运算符                                      | c %= a 等效于 c = c % a                           |
| **=    | 幂赋值运算符                                        | c \**= a 等效于 c = c ** a                        |
| //=    | 取整除赋值运算符                                    | c //= a 等效于 c = c // a                         |

### 位运算符

- &
  - 按位与运算符：参与运算的两个值,如果两个相应位都为1,则该位的结果为1,否则为0
- |
  - 按位或运算符：只要对应的二个二进位有一个为1时，结果位就为1
- ^
  - 按位异或运算符：当两对应的二进位相异时，结果为1
- ~
  - 按位取反运算符：对数据的每个二进制位取反,即把1变为0,把0变为1 。~x 类似于 -x-1
- <<
  - 左移动运算符：运算数的各二进位全部左移若干位，由 << 右边的数字指定了移动的位数，高位丢弃，低位补0
  - 60 << 2为240
- \>>
  - 右移动运算符：把">>"左边的运算数的各二进位全部右移若干位，>> 右边的数字指定了移动的位数

### 逻辑运算符

a = 10, b = 20

| 运算符 | 逻辑表达式 | 描述                                                         | 实例                    |
| ------ | ---------- | ------------------------------------------------------------ | ----------------------- |
| and    | x and y    | 布尔"与" - 如果 x 为 False，x and y 返回False，否则它返回 y 的计算值 | (a and b) 返回 20       |
| or     | x or y     | 布尔"或" - 如果 x 是非 0，它返回 x 的计算值，否则它返回 y 的计算值 | (a or b) 返回 10        |
| not    | not x      | 布尔"非" - 如果 x 为 True，返回 False 。如果 x 为 False，它返回 True | not(a and b) 返回 False |

### 成员运算符

- in
  - 如果在指定的序列中找到值返回 True，否则返回 False
- not in
  - 如果在指定的序列中没有找到值返回 True，否则返回 False

```python
#!/usr/bin/python
# -*- coding: UTF-8 -*-
a = 10
b = 20
list = [1, 2, 3, 4, 5 ];
if ( a in list ):
	print ("1 - 变量 a 在给定的列表中 list 中")
else:
	print("1 - 变量 a 不在给定的列表中 list 中")
if (b not in list):
	print("2 - 变量 b 不在给定的列表中 list 中")
else:
	print("2 - 变量 b 在给定的列表中 list 中")
```

### 身份运算符

- is
  - is 是判断两个标识符是不是引用自一个对象
- is not
  - is not 是判断两个标识符是不是引用自不同对象

```python
a = [1, 2, 3]
>>> b = a
>>> b is a
True
>>> b == a
True
>>> b = a[:]
>>> b is a
False
>>> b == a
True
```

> is 与 == 区别：
> is 用于判断两个变量引用对象是否为同一个(同一块内存空间)， == 用于判断引用变量的值是否相等

### 运算符优先级

| 运算符                   | 描述                                                   |
| ------------------------ | ------------------------------------------------------ |
| **                       | 指数 (最高优先级)                                      |
| ~+-                      | 按位翻转, 一元加号和减号 (最后两个的方法名为 +@ 和 -@) |
| * / % //                 | 乘，除，取模和取整除                                   |
| + -                      | 加法减法                                               |
| >> <<                    | 右移，左移运算符                                       |
| &                        | 位 'AND'                                               |
| ^ \|                     | 位运算符                                               |
| <= < > >=                | 比较运算符                                             |
| <> == !=                 | 等于运算符                                             |
| = %= /= //= -= += *= **= | 赋值运算符                                             |
| is is not                | 身份运算符                                             |
| in not in                | 成员运算符                                             |
| not and or               | 逻辑运算符                                             |

## 程序控制结构

### 条件语句

```python
if 判断条件：
	执行语句……
else：
	执行语句……
```

```python
if 判断条件1:
	执行语句1……
elif 判断条件2:
	执行语句2……
elif 判断条件3:
	执行语句3……
else:
	执行语句4……
```

### 循环语句

while、for

```python
while []:
    []

while[]:
    []
else:
    []

for [] in []:	#for iterating_var in sequence:statements(s)
    []

for [] in []:
    []
else:
```

else 中的语句会在循环正常执行完

- break
  -  在语句块执行中终止循环，并且跳出整个循环

- continue
  - 在语句块执行过程中终止当前循环，跳出该次循环

- pass
  - 空语句，为了保持程序结构的完整性


### range()

如果你需要遍历数字序列，可以使用内置range()函数。它会生成数列，例如:

```python
for i in range(5): print(i)
for i in range(0, 10, 3) : print(i)
for i in range(-10, -100, -30) : print(i)
```

可以结合range()和len()函数以遍历一个序列的索引,如下所示:

```python
a = ['Google', 'Baidu', 'Bing', 'Taobao', 'QQ']
for i in range(len(a)):
	print(i, a[i])
```

还可以使用range()函数来创建一个列表：

```python
list(range(5))
```

## 函数

定义一个函数：可定义一个由自己想要功能的函数，以下是简单的规则：

- 函数代码块以 def 关键词开头，后接函数标识符名称和圆括号()
- 任何传入参数和自变量必须放在圆括号中间。圆括号之间可以用于定义参数
- 函数的第一行语句可以选择性地使用文档字符串—用于存放函数说明
- 函数内容以冒号起始，并且缩进
- return [表达式] 结束函数，选择性地返回一个值给调用方。不带表达式的return相当于返回 None

![image-20230816092934029](D:\Personal\inTHU\大一暑期小学期\3.png)

```python
def functionname( parameters ):
	function_suite
	return [expression]
```

### 参数传递

Python 中，类型属于对象，变量没有类型

```python
a = [1, 2, 3]
a = "Tsinghua"
```

[1,2,3] 是 List 类型，“Tsinghua” 是 String 类型，而变量 a 是没有类型，它仅仅是一个对象的引用（一个指针），可以是 List 类型对象，也可以指向String 类型对象

在 Python 中，strings, tuples, 和 numbers是不可更改的对象，而 list, dict 等则是可以修改的对象

- 不可变类型：变量赋值 a=5 后再赋值 a=10，这里实际是新生成一个 int 值对象 10，再让 a 指向它，而 5 被丢弃，不是改变a的值，相当于新生成了a
- 可变类型：变量赋值 la=[1,2,3,4] 后再赋值 la[2]=5 则是将 list la 的第三个元素值更改，本身la没有动，只是其内部的一部分值被修改了

### 参数类型

